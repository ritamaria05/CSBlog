---
import { getCollection, type CollectionEntry } from "astro:content";
import LayoutBase from "../../layouts/LayoutBase.astro";
const posts = await getCollection("projects");
posts.sort((a: CollectionEntry<"projects">, b: CollectionEntry<"projects">) => b.data.date.valueOf() - a.data.date.valueOf());
---
<LayoutBase title="Projects">
    <h1 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">Projects</h1>
    <div class="grid gap-6">
        {posts.map((post: CollectionEntry<"projects">) => (
            <a
                href={`/projects/${post.slug}`}
                class="block p-4 border rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition"
            >
                <h2 class="text-xl font-semibold text-gray-900 dark:text-white">{post.data.title}</h2>
                <p class="text-gray-600 dark:text-gray-400">{post.data.description}</p>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">
                    Published on {new Date(post.data.date).toLocaleDateString()}
                </p>
            </a>
        ))}
    </div>
</LayoutBase>